<div class="page-header">
  <span>
    <h2>Nano Twitter</h2>
  </span>
  <span>
    <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#loginModal">Login/Register</button>
  </span>
</div>

<%= erb :feed, :locals => { :tweets => tweets } %>

<div class="modal fade" id="loginModal" aria-hidden="true" role="dialog" aria-labelledby="loginModalLabel">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title">Login to Nano Twitter</h4>
      </div>

      <div class="modal-body">
          <!-- Login form -->
        <div id="login-form">
          No account? <button id="register-button" class="btn btn-default">Register Now</button>
          <form class="input-group" style="margin: 0 auto" method="POST" action="/nanotwitter/v1.0/users/session">
            <input class="form-control" type="text" name="username" placeholder="Username">
            <br><br>
            <input class="form-control" type="password" name="password" placeholder="Password">
            <br><br>
            <div class="input-group" style="margin: 0 auto">
              <button type="button" class="btn btn-default form-control" style="width: 50%" data-dismiss="modal">Close</button>
              <button class="btn btn-primary form-control" style="width: 50%" type="submit">Log In</button>
            </div>
          </form>
        </div>

        <!-- Register form -->
        <div id="register-form" style="display: none">
          <small>Already have an account? <button id="login-button" class="btn btn-default btn-sm">Login Now</button></small>
          <form class="input-group" style="margin: 0 auto" method="POST" action="/nanotwitter/v1.0/users/session">
            <input class="form-control" type="text" name="username" placeholder="Username">
            <br><br>
            <input class="form-control" type="password" name="password" placeholder="Password">
            <br><br>
            <input class="form-control" type="password" name="password2" placeholder="Repeat password">
            <br><br>
            <div class="input-group" style="margin: 0 auto">
              <button type="button" class="btn btn-default form-control" style="width: 50%" data-dismiss="modal">Close</button>
              <button class="btn btn-primary form-control" style="width: 50%" type="submit">Register</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>

<script type="text/javascript">
  $("#register-button").click(function() {
    $("#login-form").hide();
    $("#register-form").show();
  });

  $("#login-button").click(function() {
    $("#login-form").show();
    $("#register-form").hide();
  });
</script>